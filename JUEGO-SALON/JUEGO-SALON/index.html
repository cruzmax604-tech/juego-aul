<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Juego Gamificado del Aula</title>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<style>
body{
font-family:Arial, Helvetica, sans-serif;
background:#f3f4f6;
padding:20px;
}

table{
width:100%;
border-collapse:collapse;
background:white;
}

th,td{
padding:10px;
border:1px solid #ddd;
text-align:center;
}

button{
padding:5px 10px;
border:none;
border-radius:8px;
color:white;
cursor:pointer;
}

.dar{background:green;}
.quitar{background:#991b1b;}
.canjear{background:#dc2626;}

#reto{
background:#2563eb;
color:white;
padding:15px;
border-radius:12px;
margin-bottom:20px;
font-size:20px;
text-align:center;
font-weight:bold;
}

#podio{
display:flex;
justify-content:center;
gap:20px;
margin:30px 0;
font-size:20px;
font-weight:bold;
}

.tienda{
background:#facc15;
padding:20px;
border-radius:12px;
margin-bottom:20px;
}
</style>
</head>
<body>

<div id="reto">ğŸ¯ Cargando reto...</div>

<div class="tienda">
<h2>ğŸ›’ Tienda de Recompensas</h2>
<ul>
<li>ğŸ¬ Dulce = 20 pts</li>
<li>ğŸª‘ Sentarse adelante = 30 pts</li>
<li>ğŸ® 10 min juego = 40 pts</li>
<li>ğŸ“º Ver video = 50 pts</li>
<li>â­ Pase sin tarea = 60 pts</li>
</ul>
</div>

<div id="podio">
<div id="primero">ğŸ¥‡ 1er Lugar</div>
<div id="segundo">ğŸ¥ˆ 2do Lugar</div>
<div id="tercero">ğŸ¥‰ 3er Lugar</div>
</div>

<table>
<thead>
<tr>
<th>Estudiante</th>
<th>Puntos</th>
<th>Progreso</th>
<th>Nivel</th>
<th>Medallas</th>
<th>+Pts</th>
<th>-Pts</th>
<th>Canjear</th>
</tr>
</thead>
<tbody id="tabla">
</tbody>
</table>

<script>

let estudiantes=[
"AMELIA REYES MEJIA",
"ANAHIA ROSARIO PRENSA",
"ANAYCHELIN DE JESUS DE LA CRUZ",
"ANDERSON ELIAN PEGUERO MEDINA",
"ANEIRY ARIANNY HICHEZ PEGUERO",
"ANGEL DAVID CONCEPCION CASTILLO",
"ANTHONY MANUEL GONZALEZ DE LA CRUZ",
"ANGELIE ZAPATA MORENO",
"ASAELY PIERRE VEUS",
"NATHALIA GARCIA BRAUNNY",
"BRAYAN EDUARDO FROMETA ARIAS",
"CRISVIEL ENMANUJEL VALERA FAMILIA",
"DALMIN YARIEL ROSARIO ESTRELLA",
"EMILY LEYLA ROJAS CASTILLO",
"ENGEL MIGUEL CASTRO DE CENA",
"ESMERLIN DANIEL HERNANDEZ",
"EURY ANTONIO TOLENTINO SENA",
"FRANCELIS ELIANDA VENTURA GOMEZ",
"FRANCHELIS MARIAN CASTILLO POLANCO",
"FRANCHESCA LESLIANNI CONCEPCION",
"GREYDER OSCAR FAMILIA GUZMAN",
"HECTOR ENRIQUE GUERRERO",
"JAIRIELIS DE LA CRUZ",
"JAY STE VICENTE MONTERO",
"JOSE RAMON BENITEZ",
"JUNIELIS YALIA LIRIA RODRIGUEZ",
"KIORDY JUNIOR VASQUEZ RODRIGUEZ",
"LUIS ANGEL BASORA LEONARDO",
"LUIS RAYNIEL LOPEZ MARTINEZ",
"MATHEWS SKERLIN GONZALEZ HERNANDEZ",
"NAITMARY SANTANA PAYANO",
"NASHLA ANALIA TORRES CONCEPCION",
"OMARKI DE LA CRUZ CORNIELE",
"REINY JOSMA SARMIENTOS MARTINEZ",
"ROSHELSSYS BENITEZ PRENSA",
"YOMAIRY JIMENEZ MOREY"
];

let tabla=document.getElementById("tabla");

estudiantes.forEach(nombre=>{

let fila=document.createElement("tr");

fila.innerHTML=`
<td>${nombre}</td>
<td class="puntos">0</td>
<td><progress value="0" max="100" class="barra"></progress></td>
<td class="nivel"></td>
<td class="medallas"></td>
<td><button class="dar" onclick="sumar(this)">+10</button></td>
<td><button class="quitar" onclick="restar(this)">-10</button></td>
<td><button class="canjear" onclick="canjear(this,20)">ğŸ¬</button></td>
`;

tabla.appendChild(fila);

});

function actualizarFila(fila,puntos){

if(puntos<0)puntos=0;
if(puntos>100)puntos=100;

fila.querySelector(".puntos").textContent=puntos;
fila.querySelector(".barra").value=puntos;

// Nivel
let nivel="";
if(puntos<=20)nivel="ğŸ£ Novato";
else if(puntos<=40)nivel="ğŸ“˜ Aprendiz";
else if(puntos<=60)nivel="ğŸš€ Avanzado";
else if(puntos<=80)nivel="ğŸ… Experto";
else nivel="ğŸ‘‘ Maestro";

fila.querySelector(".nivel").textContent=nivel;

// Medallas
let medallas="";
if(puntos>=20)medallas+="ğŸ¥‰ ";
if(puntos>=40)medallas+="ğŸ¥ˆ ";
if(puntos>=60)medallas+="ğŸ¥‡ ";
if(puntos>=80)medallas+="ğŸ† ";
if(puntos>=100)medallas+="ğŸ‘‘ ";

fila.querySelector(".medallas").textContent=medallas;

actualizarPodio();
verificarGanador();
}
function sumar(btn){

let fila=btn.parentElement.parentElement;
let puntos=parseInt(fila.querySelector(".puntos").textContent);

puntos+=10;

actualizarFila(fila,puntos);

// ğŸ”¥ ACTUALIZA EQUIPOS
actualizarEquipos();

}

function restar(btn){

let fila=btn.parentElement.parentElement;
let puntos=parseInt(fila.querySelector(".puntos").textContent);

puntos-=10;

actualizarFila(fila,puntos);

// ğŸ”¥ ACTUALIZA EQUIPOS
actualizarEquipos();

}


function canjear(btn,costo){
let fila=btn.parentElement.parentElement;
let puntos=parseInt(fila.querySelector(".puntos").textContent);

if(puntos<costo){alert("âŒ No tiene puntos");return;}

puntos-=costo;
actualizarFila(fila,puntos);
alert("âœ… Premio canjeado");
}

function actualizarPodio(){

let datos=[];

document.querySelectorAll("tbody tr").forEach(f=>{

datos.push({
nombre:f.children[0].textContent,
puntos:parseInt(f.querySelector(".puntos").textContent)
});

});

datos.sort((a,b)=>b.puntos-a.puntos);

if(datos[0])primero.textContent="ğŸ¥‡ "+datos[0].nombre;
if(datos[1])segundo.textContent="ğŸ¥ˆ "+datos[1].nombre;
if(datos[2])tercero.textContent="ğŸ¥‰ "+datos[2].nombre;
}

function verificarGanador(){

let mayor=0;

document.querySelectorAll(".puntos").forEach(c=>{
let p=parseInt(c.textContent);
if(p>mayor)mayor=p;
});

if(mayor>=100){
confetti({particleCount:200,spread:160,origin:{y:0.6}});
}
}

// Reto diario
let retos=[
"ğŸ“– Leer un pÃ¡rrafo",
"âœï¸ Escribir 5 oraciones",
"â— Resolver 5 divisiones",
"âœ–ï¸ Resolver 5 multiplicaciones",
"ğŸ§  Pregunta de Ciencias",
"ğŸ‡©ğŸ‡´ Historia dominicana",
"ğŸ¤ Ayudar a un compaÃ±ero",
"ğŸ“š Traer tarea",
"ğŸ” Palabra nueva",
"ğŸ—£ï¸ Participar"
];

reto.textContent="ğŸ¯ Reto del DÃ­a: "+retos[Math.floor(Math.random()*retos.length)];

</script>



<!-- ================= EQUIPOS ================= -->
<h2 class="text-2xl font-bold mt-10 mb-4">ğŸ† PuntuaciÃ³n por Equipos</h2>

<table class="w-full border text-left mb-10" id="tablaEquipos">
<thead class="bg-gray-200">
<tr>
<th class="p-3">Equipo</th>
<th class="p-3">Puntos</th>
</tr>
</thead>
<tbody>
<tr class="border-t"><td class="p-3">Equipo 1 ğŸ”´</td><td class="p-3" id="equipo1">0</td></tr>
<tr class="border-t"><td class="p-3">Equipo 2 ğŸ”µ</td><td class="p-3" id="equipo2">0</td></tr>
<tr class="border-t"><td class="p-3">Equipo 3 ğŸŸ¢</td><td class="p-3" id="equipo3">0</td></tr>
<tr class="border-t"><td class="p-3">Equipo 4 ğŸŸ¡</td><td class="p-3" id="equipo4">0</td></tr>
<tr class="border-t"><td class="p-3">Equipo 5 ğŸŸ£</td><td class="p-3" id="equipo5">0</td></tr>
<tr class="border-t"><td class="p-3">Equipo 6 ğŸŸ </td><td class="p-3" id="equipo6">0</td></tr>
</tbody>
</table>

<!-- ================= SCRIPT EQUIPOS ================= -->
<script>

// ASIGNAR EQUIPOS A CADA ESTUDIANTE (EDITABLE)
const equipos = {
"AMELIA REYES MEJIA": 5,
"ANAHIA ROSARIO PRENSA": 2,
"ANAYCHELIN DE JESUS DE LA CRUZ": 3,
"ANDERSON ELIAN PEGUERO MEDINA": 3,
"ANEIRY ARIANNY HICHEZ PEGUERO": 2,
"ANGEL DAVID CONCEPCION CASTILLO": 5,
"ANTHONY MANUEL GONZALEZ DE LA CRUZ": 6,
"ANGELIE ZAPATA MORENO": 1,
"ASAELY PIERRE VEUS": 2,
"NATHALIA GARCIA BRAUNNY": 1,
"BRAYAN EDUARDO FROMETA ARIAS": 6,
"CRISVIEL ENMANUJEL VALERA FAMILIA": 6,
"DALMIN YARIEL ROSARIO ESTRELLA": 5,
"EMILY LEYLA ROJAS CASTILLO": 4,
"ENGEL MIGUEL CASTRO DE CENA": 4,
"ESMERLIN DANIEL HERNANDEZ": 2,
"EURY ANTONIO TOLENTINO SENA": 6,
"FRANCELIS ELIANDA VENTURA GOMEZ": 3,
"FRANCHELIS MARIAN CASTILLO POLANCO": 4,
"FRANCHESCA LESLIANNI CONCEPCION": 1,
"GREYDER OSCAR FAMILIA GUZMAN": 3,
"HECTOR ENRIQUE GUERRERO": 6,
"JAIRIELIS DE LA CRUZ": 4,
"JAY STE VICENTE MONTERO": 1,
"JOSE RAMON BENITEZ": 5,
"JUNIELIS YALIA LIRIA RODRIGUEZ": 2,
"KIORDY JUNIOR VASQUEZ RODRIGUEZ": 6,
"LUIS ANGEL BASORA LEONARDO": 1,
"LUIS RAYNIEL LOPEZ MARTINEZ": 4,
"MATHEWS SKERLIN GONZALEZ HERNANDEZ": 5,
"NAITMARY SANTANA PAYANO": 2,
"NASHLA ANALIA TORRES CONCEPCION": 3,
"OMARKI DE LA CRUZ CORNIELE": 4,
"REINY JOSMA SARMIENTOS MARTINEZ": 5,
"ROSHELSSYS BENITEZ PRENSA": 5,
"YOMAIRY JIMENEZ MOREY": 3
};

function actualizarEquipos(){

let puntosEquipos={1:0,2:0,3:0,4:0,5:0,6:0};

// SOLO FILAS DE ESTUDIANTES
const filas=document.querySelectorAll("#tabla tr");

filas.forEach(fila=>{

const nombre=fila.children[0].innerText.trim();
const puntos=parseInt(fila.querySelector(".puntos").innerText);

const equipo=equipos[nombre];

if(equipo){
puntosEquipos[equipo]+=puntos;
}

});

// ACTUALIZAR TABLA
for(let i=1;i<=6;i++){

document.getElementById("equipo"+i).innerText=puntosEquipos[i];

}

}


// MODIFICAR FUNCIONES DE SUMAR Y RESTAR

botonesMas.forEach(btn=>{
btn.addEventListener("click",()=>{

const fila = btn.closest("tr");
const celda = fila.querySelector(".puntos");
let puntos = parseInt(celda.innerText);

puntos += 10;
celda.innerText = puntos;

fila.querySelector("progress").value = puntos;

actualizarEquipos();

// ğŸ”§ CORRECCIÃ“N: recalcular tambiÃ©n cuando cargue todo
window.onload = function(){
actualizarEquipos();
};

});
});

botonesMenos.forEach(btn=>{
btn.addEventListener("click",()=>{

const fila = btn.closest("tr");
const celda = fila.querySelector(".puntos");
let puntos = parseInt(celda.innerText);

puntos -= 10;
if(puntos < 0) puntos = 0;

celda.innerText = puntos;

fila.querySelector("progress").value = puntos;

actualizarEquipos();

});
});

// INICIAR CALCULO
actualizarEquipos();

</script>
window.onload=actualizarEquipos;

</body>
</html>





